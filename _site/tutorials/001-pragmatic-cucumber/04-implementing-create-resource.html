<!DOCTYPE html>
<html lang=" en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Madras Coder</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/site.webmanifest">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    <link type="application/atom+xml" rel="alternate" href="https://www.madrascoder.com/feed.xml" title="Madras Coder" />
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Use BDD to Implement and Test ‘Create API’ | Madras Coder</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Use BDD to Implement and Test ‘Create API’" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this chapter let’s apply ‘Spreadsheet DataTable’ pattern to test the API that is used to create a new employee in our HR Software. In this process, we will add few more maven dependencies to create and call the API. To be specific, we will use RestAssured library to call the REST API from the step definition methods." />
<meta property="og:description" content="In this chapter let’s apply ‘Spreadsheet DataTable’ pattern to test the API that is used to create a new employee in our HR Software. In this process, we will add few more maven dependencies to create and call the API. To be specific, we will use RestAssured library to call the REST API from the step definition methods." />
<link rel="canonical" href="https://www.madrascoder.com/tutorials/001-pragmatic-cucumber/04-implementing-create-resource.html" />
<meta property="og:url" content="https://www.madrascoder.com/tutorials/001-pragmatic-cucumber/04-implementing-create-resource.html" />
<meta property="og:site_name" content="Madras Coder" />
<meta property="og:image" content="https://www.madrascoder.com/assets/media/tutorials/001-pragmatic-cucumber/chapter4/kyle-glenn-YkOQ4So1TXM-unsplash.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.madrascoder.com/assets/media/tutorials/001-pragmatic-cucumber/chapter4/kyle-glenn-YkOQ4So1TXM-unsplash.jpg" />
<meta property="twitter:title" content="Use BDD to Implement and Test ‘Create API’" />
<script type="application/ld+json">
{"url":"https://www.madrascoder.com/tutorials/001-pragmatic-cucumber/04-implementing-create-resource.html","image":"https://www.madrascoder.com/assets/media/tutorials/001-pragmatic-cucumber/chapter4/kyle-glenn-YkOQ4So1TXM-unsplash.jpg","headline":"Use BDD to Implement and Test ‘Create API’","description":"In this chapter let’s apply ‘Spreadsheet DataTable’ pattern to test the API that is used to create a new employee in our HR Software. In this process, we will add few more maven dependencies to create and call the API. To be specific, we will use RestAssured library to call the REST API from the step definition methods.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
    <nav>
    <ul class="menu">
        <li class="logo">
            <a href="https://www.madrascoder.com">Madras Coder</a>
        </li>
        <li class="toggle"><a href="#"><i onclick="toggleMenu(this)" class="toggle-menu fas fa-bars fa-2x"></i></a></li>
        <li class="item"><a href="https://www.madrascoder.com">Home</a></li>
        <li class="item"><a href="/articles">Articles</a></li>
        <li class="item"><a href="/tutorials">Tutorials</a></li>
        <li class="item"><a href="/about.html">About</a></li>
        <li class="item">
            <a href="#"><i onclick="toggleDarkMode(this)" class="fas fa-moon"></i></a>
        </li>
    </ul>
</nav>
    <main class="tutorial-content">
        <img src="/assets/media/tutorials/001-pragmatic-cucumber/chapter4/kyle-glenn-YkOQ4So1TXM-unsplash.jpg" title="Use BDD to Implement and Test 'Create API'" />
        <p></p>
        <h1>Use BDD to Implement and Test 'Create API'</h1>
        <p>In this chapter let's apply 'Spreadsheet DataTable' pattern to test the API that is used to create a new employee in our HR Software. In this process, we will add few more maven dependencies to create and call the API. To be specific, we will use RestAssured library to call the REST API from the step definition methods.
</p>
        <hr>
        <p>Let’s create feature file, step definitions and an API for the following requirement/user story.</p>

<p><strong>As a</strong> HR Staff,<br />
<strong>I want to</strong> to save a new employee details,<br />
<strong>So that</strong> I can refer to the details in the system when needed.</p>

<hr />

<h3 id="step-1-maven-dependencies">Step 1: Maven Dependencies</h3>

<h4 id="11-add-following-maven-dependencies-to-pomxml">1.1 Add following maven dependencies to pom.xml</h4>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--
To generate mappers to convert Entity (JPA Managed Object) to DTOs.
[Its optional, you may use a different mechanism]
--&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.mapstruct<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>mapstruct<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.4.2.Final<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="c">&lt;!--    
To call REST API from Cucumber Step Definition classes
This is part of Spring Boot Dependencies, hence version is not needed
--&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>io.rest-assured<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>rest-assured<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<h4 id="12-add-following-maven-plugin-to-pomxml">1.2 Add following maven plugin to pom.xml</h4>

<p>Plugins here use annotation processor to generate code.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>3.8.1<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;source&gt;</span>${java.version}<span class="nt">&lt;/source&gt;</span>
    <span class="nt">&lt;target&gt;</span>${java.version}<span class="nt">&lt;/target&gt;</span>
    <span class="nt">&lt;annotationProcessorPaths&gt;</span>
      <span class="nt">&lt;path&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.mapstruct<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mapstruct-processor<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.4.2.Final<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/path&gt;</span>
      <span class="nt">&lt;path&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>${lombok.version}<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/path&gt;</span>
      <span class="nt">&lt;path&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>lombok-mapstruct-binding<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>0.2.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;/path&gt;</span>
    <span class="nt">&lt;/annotationProcessorPaths&gt;</span>
  <span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>

<h4 id="13-add-following-property-to-applicationproperties">1.3 Add following property to application.properties</h4>

<p>This helps converting ISO 8601 Date and Time formats to java.time.* classes.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">spring.jackson.serialization.write-dates-as-timestamps</span><span class="p">=</span><span class="s">false</span>
</code></pre></div></div>
<hr />

<h3 id="step-2-create-feature-file">Step 2: Create Feature File</h3>

<p>Path: <code class="language-plaintext highlighter-rouge">src/test/resources/com/madrascoder/cucumberbooksample/1100-create-employee.feature</code></p>

<div class="language-cucumber highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">Feature</span><span class="p">:</span> Create Employee

  <span class="kn">Scenario</span><span class="p">:</span> Create employee with basic details
    <span class="nf">Given </span>user wants to create employee with following details

      <span class="p">|</span> <span class="nv">firstName</span> <span class="p">|</span> <span class="nv">lastName</span> <span class="p">|</span> <span class="nv">email</span>               <span class="p">|</span> <span class="nv">dateOfBirth</span> <span class="p">|</span> <span class="nv">jobTitle</span>                   <span class="p">|</span> <span class="nv">employeeNumber</span> <span class="p">|</span> <span class="nv">employeeStatus</span> <span class="p">|</span> <span class="nv">employmentType</span> <span class="p">|</span>
      <span class="p">|</span> <span class="n">Effie</span>     <span class="p">|</span> <span class="n">Slee</span>     <span class="p">|</span> <span class="n">eslee@blueocean.com</span> <span class="p">|</span> <span class="n">2014-03-01</span>  <span class="p">|</span> <span class="n">Physical</span> <span class="n">Therapy</span> <span class="n">Assistant</span> <span class="p">|</span> <span class="n">E101</span>           <span class="p">|</span> <span class="n">Active</span>         <span class="p">|</span> <span class="n">Full-Time</span>      <span class="p">|</span>

    <span class="nf">When </span>user saves a new employee

    <span class="nf">Then </span>the save IS SUCCESSFUL
</code></pre></div></div>
<hr />

<h3 id="step-3-create-datatransformer">Step 3: Create DataTransformer</h3>

<p>DataTransformer (The Magic Class) helps to convert DataTable to respective DTO or Collection of DTOs and vice versa.</p>

<p>Path: <code class="language-plaintext highlighter-rouge">src/test/com/madrascoder/cucumberbooksample/DataTransformer.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.ObjectMapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.DefaultDataTableCellTransformer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.DefaultDataTableEntryTransformer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.DefaultParameterTransformer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Type</span><span class="o">;</span>

<span class="c1">// Implicitly a Spring Bean</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DataTransformer</span> <span class="o">{</span>

  <span class="c1">// Set spring.jackson.serialization.write-dates-as-timestamps=false </span>
  <span class="c1">// in application.properties This is required to convert ISO 8601 </span>
  <span class="c1">// Date String to LocalDate and many other java.time package use cases</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ObjectMapper</span> <span class="n">objectMapper</span><span class="o">;</span>

  <span class="c1">// Spring will autowire the ObjectMapper</span>
  <span class="kd">public</span> <span class="nf">DataTransformer</span><span class="o">(</span><span class="nc">ObjectMapper</span> <span class="n">objectMapper</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">objectMapper</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@DefaultParameterTransformer</span>
  <span class="nd">@DefaultDataTableEntryTransformer</span>
  <span class="nd">@DefaultDataTableCellTransformer</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">transformer</span><span class="o">(</span><span class="nc">Object</span> <span class="n">fromValue</span><span class="o">,</span> <span class="nc">Type</span> <span class="n">toValueType</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">convertValue</span><span class="o">(</span><span class="n">fromValue</span><span class="o">,</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">constructType</span><span class="o">(</span><span class="n">toValueType</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h3 id="step-4-create-employeestepdefinitionsjava">Step 4: Create EmployeeStepDefinitions.java</h3>

<p>Path: <code class="language-plaintext highlighter-rouge">src/test/java/com/madrascoder/cucumberbooksample/stepdefinitions/EmployeeStepDefinitions.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">io</span><span class="o">.</span><span class="na">restassured</span><span class="o">.</span><span class="na">RestAssured</span><span class="o">.</span><span class="na">given</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.dto.Employee</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.en.Given</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.en.Then</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.cucumber.java.en.When</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.restassured.http.ContentType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.restassured.response.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.web.server.LocalServerPort</span><span class="o">;</span>

<span class="c1">// Implicitly a Spring Bean</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmployeeStepDefinitions</span> <span class="o">{</span>

  <span class="c1">// By default, all step definitions are Spring Beans</span>
  <span class="c1">// You may autowire Spring Beans and Properties in StepDefinition class</span>
  <span class="nd">@LocalServerPort</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">port</span><span class="o">;</span>

  <span class="kd">private</span> <span class="nc">Response</span> <span class="n">response</span><span class="o">;</span>

  <span class="kd">private</span> <span class="nc">Employee</span> <span class="n">employee</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">baseUrl</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">"http://localhost:"</span> <span class="o">+</span> <span class="n">port</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Given</span><span class="o">(</span><span class="s">"user wants to create employee with following details"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userWantsToCreateEmployeeWithFollowingDetails</span><span class="o">(</span><span class="nc">Employee</span> <span class="n">employee</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">employee</span> <span class="o">=</span> <span class="n">employee</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@When</span><span class="o">(</span><span class="s">"user saves a new employee"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userSavesANewEmployee</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">baseUrl</span><span class="o">()</span> <span class="o">+</span> <span class="s">"/v1/employees"</span><span class="o">;</span>

    <span class="c1">// Using RestAssured Library to call REST API</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">given</span><span class="o">().</span><span class="na">log</span><span class="o">()</span>
        <span class="o">.</span><span class="na">all</span><span class="o">()</span>
        <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">employee</span><span class="o">)</span>
        <span class="o">.</span><span class="na">contentType</span><span class="o">(</span><span class="nc">ContentType</span><span class="o">.</span><span class="na">JSON</span><span class="o">)</span>
        <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>

    <span class="n">response</span><span class="o">.</span><span class="na">then</span><span class="o">()</span>
        <span class="o">.</span><span class="na">log</span><span class="o">()</span>
        <span class="o">.</span><span class="na">all</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@Then</span><span class="o">(</span><span class="s">"the save IS SUCCESSFUL"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">theSaveIsSuccessful</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">actualStatusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">actualStatusCode</span><span class="o">).</span><span class="na">isIn</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">201</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>We are done with all changes needed under src/test/*. If you try to run the test using <code class="language-plaintext highlighter-rouge">mvn clean verify</code>, it will fail as the Create Employee API is not yet implemented. In the next step, lets create the API to pass the test.</p>

<hr />

<h3 id="step-5-create-employee-api">Step 5: Create Employee API</h3>

<h4 id="51-create-employee-class-dto-with-basic-attributes">5.1 Create Employee Class (DTO) with basic attributes,</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/dto/Employee.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.time.LocalDate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.ToString</span><span class="o">;</span>

<span class="nd">@Getter</span>
<span class="nd">@Setter</span>
<span class="nd">@ToString</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Employee</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">firstName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">lastName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">email</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">LocalDate</span> <span class="n">dateOfBirth</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">remoteWorker</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">jobTitle</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employeeNumber</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employmentStatus</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employmentType</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="52-create-employeeentity-class-jpa-managed-object">5.2 Create EmployeeEntity Class (JPA Managed Object)</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/entity/EmployeeEntity.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.time.LocalDate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Table</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>

<span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"employee"</span><span class="o">)</span>
<span class="nd">@Getter</span>
<span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmployeeEntity</span> <span class="o">{</span>

  <span class="nd">@Id</span>
  <span class="nd">@GeneratedValue</span>
  <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

  <span class="kd">private</span> <span class="nc">String</span> <span class="n">firstName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">lastName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">email</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">LocalDate</span> <span class="n">dateOfBirth</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">remoteWorker</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">jobTitle</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employeeNumber</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employmentStatus</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">employmentType</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="53-create-employeemapper-interface">5.3 Create EmployeeMapper Interface</h4>

<p>‘MapStruct’ library (dependency added earlier), this library uses AnnotationProcessor to generate the respective convertor method implementations for the interface and also declares the auto generated class as a Spring Bean.</p>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/mapper/EmployeeMapper.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.dto.Employee</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.entity.EmployeeEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.ElementType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Target</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.mapstruct.IterableMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.mapstruct.Mapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.mapstruct.MappingTarget</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.mapstruct.Qualifier</span><span class="o">;</span>

<span class="nd">@Mapper</span><span class="o">(</span><span class="n">componentModel</span> <span class="o">=</span> <span class="s">"spring"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">EmployeeMapper</span> <span class="o">{</span>

  <span class="c1">// For Create Use Case</span>
  <span class="nc">EmployeeEntity</span> <span class="nf">toEmployeeEntity</span><span class="o">(</span><span class="nc">Employee</span> <span class="n">employee</span><span class="o">);</span>

  <span class="c1">// For Get Use Case</span>
  <span class="nd">@ToEmployee</span>
  <span class="nc">Employee</span> <span class="nf">toEmployee</span><span class="o">(</span><span class="nc">EmployeeEntity</span> <span class="n">employeeEntity</span><span class="o">);</span>

  <span class="nd">@IterableMapping</span><span class="o">(</span><span class="n">qualifiedBy</span> <span class="o">=</span> <span class="nc">ToEmployee</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Employee</span><span class="o">&gt;</span> <span class="nf">toEmployees</span><span class="o">(</span><span class="nc">Iterable</span><span class="o">&lt;</span><span class="nc">EmployeeEntity</span><span class="o">&gt;</span> <span class="n">entities</span><span class="o">);</span>

  <span class="c1">// For Update Use Case</span>
  <span class="kt">void</span> <span class="nf">mergeToEmployeeEntity</span><span class="o">(</span><span class="nc">Employee</span> <span class="n">employee</span><span class="o">,</span> <span class="nd">@MappingTarget</span> <span class="nc">EmployeeEntity</span> <span class="n">employeeEntity</span><span class="o">);</span>

  <span class="nd">@Qualifier</span>
  <span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">SOURCE</span><span class="o">)</span>
  <span class="nd">@Target</span><span class="o">(</span><span class="nc">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">ToEmployee</span> <span class="o">{}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>Look for the auto generated class under compiler output directory target/generated-sources/annotations.</p>

<h4 id="54-create-employeerepository-interface">5.4 Create EmployeeRepository Interface</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/repository/EmployeeRepository.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.entity.EmployeeEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">EmployeeRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">EmployeeEntity</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{}</span>

</code></pre></div></div>

<h4 id="55-create-employeeservice-class">5.5 Create EmployeeService Class</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/service/EmployeeService.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.dto.Employee</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.entity.EmployeeEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.mapper.EmployeeMapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.repository.EmployeeRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.EntityNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>

<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmployeeService</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">EmployeeMapper</span> <span class="n">employeeMapper</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">EmployeeRepository</span> <span class="n">employeeRepository</span><span class="o">;</span>

  <span class="c1">// Using Constructor Injection</span>
  <span class="kd">public</span> <span class="nf">EmployeeService</span><span class="o">(</span><span class="nc">EmployeeMapper</span> <span class="n">employeeMapper</span><span class="o">,</span> <span class="nc">EmployeeRepository</span> <span class="n">employeeRepository</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">employeeMapper</span> <span class="o">=</span> <span class="n">employeeMapper</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">employeeRepository</span> <span class="o">=</span> <span class="n">employeeRepository</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">create</span><span class="o">(</span><span class="nc">Employee</span> <span class="n">employee</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">EmployeeEntity</span> <span class="n">employeeEntity</span> <span class="o">=</span> <span class="n">employeeMapper</span><span class="o">.</span><span class="na">toEmployeeEntity</span><span class="o">(</span><span class="n">employee</span><span class="o">);</span>
    <span class="n">employeeRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">employeeEntity</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">employeeEntity</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nc">Employee</span> <span class="nf">getById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">EmployeeEntity</span><span class="o">&gt;</span> <span class="n">employeeEntityOpt</span> <span class="o">=</span> <span class="n">employeeRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">employeeEntityOpt</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">employeeMapper:</span><span class="o">:</span><span class="n">toEmployee</span><span class="o">)</span>
        <span class="o">.</span><span class="na">orElseThrow</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">EntityNotFoundException</span><span class="o">(</span><span class="s">"Employee not found for given id"</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="56-create-controller-advice--respective-message-class-for-rest-api-error-handling">5.6 Create Controller Advice &amp; Respective Message Class for REST API Error Handling</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/restapi/DefaultRestControllerAdvice.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.EntityNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span>

<span class="nd">@ControllerAdvice</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DefaultRestControllerAdvice</span> <span class="o">{</span>

  <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="nc">EntityNotFoundException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Message</span><span class="o">&gt;&gt;</span> <span class="nf">handleException</span><span class="o">(</span><span class="nc">EntityNotFoundException</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>

    <span class="kd">final</span> <span class="nc">Message</span> <span class="n">error</span> <span class="o">=</span> <span class="nc">Message</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="n">exception</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">error</span><span class="o">),</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">NOT_FOUND</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Getter</span>
  <span class="nd">@Setter</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Message</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Message</span> <span class="nf">info</span><span class="o">(</span><span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">();</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="nc">Message</span><span class="o">.</span><span class="na">MessageType</span><span class="o">.</span><span class="na">INFO</span><span class="o">);</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>

      <span class="k">return</span> <span class="n">message</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Message</span> <span class="nf">warning</span><span class="o">(</span><span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">();</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="nc">Message</span><span class="o">.</span><span class="na">MessageType</span><span class="o">.</span><span class="na">WARNING</span><span class="o">);</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>

      <span class="k">return</span> <span class="n">message</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Message</span> <span class="nf">error</span><span class="o">(</span><span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">();</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="nc">Message</span><span class="o">.</span><span class="na">MessageType</span><span class="o">.</span><span class="na">ERROR</span><span class="o">);</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>

      <span class="k">return</span> <span class="n">message</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">Message</span><span class="o">.</span><span class="na">MessageType</span> <span class="n">type</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">text</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">MessageType</span> <span class="o">{</span>
      <span class="no">INFO</span><span class="o">,</span>
      <span class="no">WARNING</span><span class="o">,</span>
      <span class="no">ERROR</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="57-create-employeerestcontroller-class">5.7 Create EmployeeRestController Class</h4>

<p>Path: <code class="language-plaintext highlighter-rouge">src/main/java/com/madrascoder/cucumberbooksample/restapi/EmployeeRestController.java</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.dto.Employee</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.madrascoder.cucumberbooksample.service.EmployeeService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.servlet.support.ServletUriComponentsBuilder</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">path</span> <span class="o">=</span> <span class="s">"/v1/employees"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmployeeRestController</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">EmployeeService</span> <span class="n">employeeService</span><span class="o">;</span>

  <span class="c1">// Using Spring Constructor Injection</span>
  <span class="kd">public</span> <span class="nf">EmployeeRestController</span><span class="o">(</span><span class="nc">EmployeeService</span> <span class="n">employeeService</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">employeeService</span> <span class="o">=</span> <span class="n">employeeService</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@PostMapping</span><span class="o">(</span><span class="n">consumes</span> <span class="o">=</span> <span class="no">APPLICATION_JSON_VALUE</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Void</span><span class="o">&gt;</span> <span class="nf">createEmployee</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">Employee</span> <span class="n">employee</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="n">employeeService</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">employee</span><span class="o">);</span>
    <span class="no">URI</span> <span class="n">location</span> <span class="o">=</span> <span class="nc">ServletUriComponentsBuilder</span><span class="o">.</span><span class="na">fromCurrentRequest</span><span class="o">()</span>
        <span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">"/{id}"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">buildAndExpand</span><span class="o">(</span><span class="n">id</span><span class="o">)</span>
        <span class="o">.</span><span class="na">toUri</span><span class="o">();</span>

    <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">created</span><span class="o">(</span><span class="n">location</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@GetMapping</span><span class="o">(</span><span class="n">path</span> <span class="o">=</span> <span class="s">"/{id}"</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="no">APPLICATION_JSON_VALUE</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Employee</span><span class="o">&gt;</span> <span class="nf">getEmployeeById</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="n">employeeService</span><span class="o">.</span><span class="na">getById</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
    <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="n">employee</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Look at the location header in HTTP Response.</p>

<hr />

<h3 id="step-6-run-the-test">Step 6: Run the Test</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean verify
</code></pre></div></div>

<p><strong>Maven Log</strong>: You can see a log similar to the one below, it is nothing but the steps in feature file and REST Request + Response log.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
<span class="o">[</span>INFO] Running Create Employee

Scenario: Create employee with basic details                 <span class="c"># com/madrascoder/cucumberbooksample/1100-create-employee.feature:3</span>
  Given user wants to create employee with following details <span class="c"># com.madrascoder.cucumberbooksample.stepdefinitions.EmployeeStepDefinitions.userWantsToCreateEmployeeWithFollowingDetails(com.madrascoder.cucumberbooksample.dto.Employee)</span>
Request method: POST
Request URI:    http://localhost:60096/v1/employees
Proxy:                  &lt;none&gt;
Request params: &lt;none&gt;
Query params:   &lt;none&gt;
Form params:    &lt;none&gt;
Path params:    &lt;none&gt;
Headers:                <span class="nv">Accept</span><span class="o">=</span><span class="k">*</span>/<span class="k">*</span>
                                Content-Type<span class="o">=</span>application/json<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>UTF-8
Cookies:                &lt;none&gt;
Multiparts:             &lt;none&gt;
Body:
<span class="o">{</span>
    <span class="s2">"id"</span>: null,
    <span class="s2">"firstName"</span>: <span class="s2">"Effie"</span>,
    <span class="s2">"lastName"</span>: <span class="s2">"Slee"</span>,
    <span class="s2">"email"</span>: <span class="s2">"eslee@blueocean.com"</span>,
    <span class="s2">"joiningDate"</span>: <span class="o">[</span>
        2014,
        3,
        1
    <span class="o">]</span>,
    <span class="s2">"jobTitle"</span>: <span class="s2">"Physical Therapy Assistant"</span>,
    <span class="s2">"employeeNumber"</span>: <span class="s2">"E101"</span>,
    <span class="s2">"employmentStatus"</span>: null,
    <span class="s2">"employmentType"</span>: <span class="s2">"Full-Time"</span>
<span class="o">}</span>
HTTP/1.1 201 
Location: http://localhost:60096/v1/employees/1
Content-Length: 0
Date: Thu, 15 Apr 2021 02:19:07 GMT
Keep-Alive: <span class="nb">timeout</span><span class="o">=</span>60
Connection: keep-alive
  When user saves a new employee                             <span class="c"># com.madrascoder.cucumberbooksample.stepdefinitions.EmployeeStepDefinitions.userSavesANewEmployee()</span>
  Then the save IS SUCCESSFUL                                <span class="c"># com.madrascoder.cucumberbooksample.stepdefinitions.EmployeeStepDefinitions.theSave()</span>
<span class="o">[</span>INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.082 s - <span class="k">in </span>Create Employee
...
</code></pre></div></div>

<hr />

<h3 id="conclusion">Conclusion</h3>

<p>There is a lot we have learnt so far. This chapter is the first step towards doing BDD in a real projects. Every minute you spend reading and trying the steps so far will definitely save a lots of hours for you and your team when you start implementing BDD in your team.</p>

<p>In the next chapter, lets learn how to create feature files to represent all validation use cases and test those validations. This is also a common use case when it comes to creating an API. Come on, lets learn that in next chapter.</p>

<hr />

<h3 id="references">References</h3>

<p>For more information on <code class="language-plaintext highlighter-rouge">MapStruct</code> you may refer <a href="https://mapstruct.org/" target="_blank">https://mapstruct.org/</a></p>

<hr />

<h3 id="credits">Credits</h3>

<p>Photo by <a href="https://unsplash.com/@kylejglenn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Kyle Glenn</a> on <a href="https://unsplash.com/s/photos/accomplishment?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Unsplash</a></p>

<hr />

<p><a href="/tutorials/001-pragmatic-cucumber/03-converting-datatable-to-java-object.html">Previous Chapter</a> | 
<a href="/tutorials/001-pragmatic-cucumber/04-implementing-create-resource.html">Scroll Up to Top</a> | 
<a href="/tutorials/001-pragmatic-cucumber/">Table of Contents</a> |
<a href="/tutorials/001-pragmatic-cucumber/05-implementing-validations-during-create.html">Next Chapter</a></p>


    </main>
    <footer>
    <section class="legal">
        <ul>
            <li><a href="#"><i class="far fa-copyright"></i> Madras Coder</a></li>
            <li><a href="#">SiteMap</a></li>
            <li><a href="#">Credits</a></li>
        </ul>
    </section>
    <section class="social">
        <ul>
            <li>
                <a href="https://www.twitter.com/bcarun" target="_blank">
                    <i class="fab fa-twitter fa-2x"></i>
                </a>
            </li>
            <li>
                <a href="https://stackoverflow.com/users/story/1535606" target="_blank">
                    <i class="fab fa-stack-overflow fa-2x"></i>
                </a>
            </li>
            <li>
                <a href="https://github.com/bcarun" target="_blank">
                    <i class="fab fa-github fa-2x"></i>
                </a>
            </li>
            <li>
                <a href="https://www.linkedin.com/in/bcarun/" target="_blank">
                    <i class="fab fa-linkedin-in fa-2x"></i>
                </a>
            </li>
        </ul>
    </section>
</footer>
    <script src="/assets/scripts.js"></script>
</body>

</html>